

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>sparknlp_jsl.legal.token_classification.ner.legal_ner &#8212; Spark NLP  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../../../../../static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../../../../../../static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../../../../../../static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../../../../static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../../../../../../static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../../../../../../" id="documentation_options" src="../../../../../../../static/documentation_options.js"></script>
    <script src="../../../../../../../static/jquery.js"></script>
    <script src="../../../../../../../static/underscore.js"></script>
    <script src="../../../../../../../static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../../../../static/doctools.js"></script>
    <script src="../../../../../../../static/sphinx_highlight.js"></script>
    <script src="../../../../../../../static/toggleprompt.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/autosummary/sparknlp_jsl/legal/token_classification/ner/legal_ner/index';</script>
    <link rel="shortcut icon" href="../../../../../../../static/fav.ico"/>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../../../../../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../../../../../../static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../../../../../../static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../../../../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../../../index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../../../../getting_started/index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../../../../../index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../chunk_classification/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../chunk_classification/assertion/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.assertion</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/assertion/assertionDL/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.assertion.assertionDL</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../chunk_classification/deid/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.deid</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/deid/deIdentification/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.deid.deIdentification</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/deid/document_hashcoder/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.deid.document_hashcoder</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../chunk_classification/resolution/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.resolution</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/resolution/chunkmapper/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.resolution.chunkmapper</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/resolution/docmapper/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.resolution.docmapper</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../chunk_classification/resolution/sentence_entity_resolver/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.chunk_classification.resolution.sentence_entity_resolver</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../graph/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.graph</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../graph/relation_extraction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.graph.relation_extraction</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../graph/relation_extraction/relation_extraction_dl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.graph.relation_extraction.relation_extraction_dl</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../graph/relation_extraction/zero_shot_relation_extraction/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.graph.relation_extraction.zero_shot_relation_extraction</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../seq_generation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.seq_generation</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../seq_generation/qa_ner_generator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.seq_generation.qa_ner_generator</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../sequence_classification/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.sequence_classification</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../sequence_classification/legal_bert_for_sequence_classification/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.sequence_classification.legal_bert_for_sequence_classification</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sequence_classification/legal_classifier_dl/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.sequence_classification.legal_classifier_dl</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../sequence_classification/legal_document_ml_classifier/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.sequence_classification.legal_document_ml_classifier</span></code></a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../legal_bert_for_token_classifier/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner.legal_bert_for_token_classifier</span></code></a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner.legal_ner</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../zero_shot_ner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner.zero_shot_ner</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../../../../../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner.legal_ner</span></code></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="module-sparknlp_jsl.legal.token_classification.ner.legal_ner">
<span id="sparknlp-jsl-legal-token-classification-ner-legal-ner"></span><h1><a class="reference internal" href="#module-sparknlp_jsl.legal.token_classification.ner.legal_ner" title="sparknlp_jsl.legal.token_classification.ner.legal_ner"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sparknlp_jsl.legal.token_classification.ner.legal_ner</span></code></a><a class="headerlink" href="#module-sparknlp_jsl.legal.token_classification.ner.legal_ner" title="Permalink to this heading">#</a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this heading">#</a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this heading">#</a></h3>
<table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach" title="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LegalNerApproach</span></code></a></p></td>
<td><p>Trains generic NER model based on Neural Networks.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel" title="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LegalNerModel</span></code></a></p></td>
<td><p>This Named Entity recognition annotator is a generic NER model based on</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LegalNerApproach</span></span><a class="reference internal" href="../../../../../../../modules/sparknlp_jsl/legal/token_classification/ner/legal_ner.html#LegalNerApproach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach" title="Permalink to this definition">#</a></dt>
<dd><p>Trains generic NER model based on Neural Networks.</p>
<p>The architecture of the neural network is a Char CNNs - BiLSTM - CRF that
achieves state-of-the-art in most datasets.</p>
<p>For instantiated/pretrained models, see <code class="xref py py-class docutils literal notranslate"><span class="pre">NerDLModel</span></code>.</p>
<p>The training data should be a labeled Spark Dataset, in the format of
<code class="xref py py-class docutils literal notranslate"><span class="pre">CoNLL</span></code> 2003 IOB with <cite>Annotation</cite> type columns. The data should
have columns of type <code class="docutils literal notranslate"><span class="pre">DOCUMENT,</span> <span class="pre">TOKEN,</span> <span class="pre">WORD_EMBEDDINGS</span></code> and an additional
label column of annotator type <code class="docutils literal notranslate"><span class="pre">NAMED_ENTITY</span></code>.</p>
<p>Excluding the label, this can be done with for example:</p>
<ul class="simple">
<li><p>a SentenceDetector,</p></li>
<li><p>a Tokenizer and</p></li>
<li><p>a WordEmbeddingsModel (any embeddings can be chosen, e.g. BertEmbeddings
for BERT based embeddings).</p></li>
</ul>
<p>For extended examples of usage, see the <a class="reference external" href="https://github.com/JohnSnowLabs/spark-nlp-workshop/tree/master/jupyter/training/english/dl-ner">Spark NLP Workshop</a>.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Input Annotation types</p></th>
<th class="head"><p>Output Annotation type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOCUMENT,</span> <span class="pre">TOKEN,</span> <span class="pre">WORD_EMBEDDINGS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NAMED_ENTITY</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>labelColumn: str</strong></dt><dd><p>Column with label per each token.</p>
</dd>
<dt><strong>entities</strong></dt><dd><p>Entities to recognize.</p>
</dd>
<dt><strong>minEpochs</strong></dt><dd><p>Minimum number of epochs to train, by default 0.</p>
</dd>
<dt><strong>maxEpochs</strong></dt><dd><p>Maximum number of epochs to train, by default 70.</p>
</dd>
<dt><strong>verbose</strong></dt><dd><p>Level of verbosity during training, by default 2.</p>
</dd>
<dt><strong>randomSeed</strong></dt><dd><p>Random seed</p>
</dd>
<dt><strong>randomSeed</strong></dt><dd><p>Random seed. Set to positive integer to get reproducible results, by default None.</p>
</dd>
<dt><strong>lr</strong></dt><dd><p>Learning Rate, by default 0.001.</p>
</dd>
<dt><strong>po</strong></dt><dd><p>Learning rate decay coefficient (time-based). This is used to calculate
the decayed learning rate at each step as: lr = lr / (1 + po * epoch),
meaning that the value of the learning rate is update on each epoch. By
default 0.005.</p>
</dd>
<dt><strong>batchSize</strong></dt><dd><p>Batch size, by default 8.</p>
</dd>
<dt><strong>dropout</strong></dt><dd><p>Dropout coefficient, by default 0.5.</p>
<p>The coefficient of the dropout layer. The value should be between 0.0 and 1.0.
Internally, it is used by Tensorflow as: <cite>rate = 1.0 - dropout</cite> when adding
a dropout layer on top of the recurrent layers.</p>
</dd>
<dt><strong>graphFolder</strong></dt><dd><p>Folder path that contains external graph files. The path can be a local file path,
a distributed file path (HDFS, DBFS), or a cloud storage (S3).</p>
<p>When instantiating the Tensorflow model, uses this folder to search for the
adequate Tensorflow graph. The search is done usaing the name of
the <cite>.pb</cite> file, which should be <cite>blstn_{ntags}_{embedding_dim}_{lstm_size}_{nchars}.pb</cite>.
The, the verifications on the obtained file are:
- Embedding dimension should be exactly the same as the one used to train the model.
- Number of tags should be greather than or equal to the number of tags in the
training data.
- Number of chars should be greather than or equal to the number of chars in
the training data.</p>
<p>The returned file will be the first one that satisfies all the conditions.</p>
<p>If the name of the file is ill-formed, errors will occur during training.</p>
</dd>
<dt><strong>graphFile</strong></dt><dd><p>Path that contains the external graph file.</p>
<p>When specified, the provided file will be used, and no graph search will happen.
The path can be a local file path,
a distributed file path (HDFS, DBFS), or a cloud storage (S3).</p>
</dd>
<dt><strong>pretrainedModelPath</strong></dt><dd><p>Path to an already trained FinanceNerModel, which is used as a starting point
for training the new model. The path can be a local file path,
a distributed file path (HDFS, DBFS), or a cloud storage (S3).</p>
</dd>
<dt><strong>configProtoBytes</strong></dt><dd><p>ConfigProto from tensorflow, serialized into byte array.</p>
</dd>
<dt><strong>useContrib</strong></dt><dd><p>whether to use contrib LSTM Cells. Not compatible with Windows. Might
slightly improve accuracy. By default True.</p>
</dd>
<dt><strong>validationSplit</strong></dt><dd><p>Choose the proportion of training dataset to be validated against the
model on each Epoch. The value should be between 0.0 and 1.0 and by
default it is 0.0 and off.</p>
<p>The validation dataset is randomly extracted from the training dataset
before training starts. If the value is 0.0, then no validation will be
performed (hold out data).</p>
</dd>
<dt><strong>evaluationLogExtended</strong></dt><dd><p>Whether logs for validation to be extended, by default False.</p>
</dd>
<dt><strong>testDataset</strong></dt><dd><p>Path to test dataset in parquet format. If set, the dataset will be used
to calculate statistic on it during training.</p>
</dd>
<dt><strong>includeConfidence</strong></dt><dd><p>Whether to include confidence scores in annotation metadata, by default
False.</p>
<p>Setting this parameter to True will add the confidence score to
the metadata of the NAMED_ENTITY annotation. In addition, if
<cite>includeAllConfidenceScores</cite> is set to True, then the confidence scores
of all the tags will be added to the metadata, otherwise only for the
predicted tag (the one with maximum score).</p>
</dd>
<dt><strong>includeAllConfidenceScores</strong></dt><dd><p>Whether to include confidence scores for all tags in annotation metadata or just
the score of the predicted tag, by default False.</p>
<p>Needs the <cite>includeConfidence</cite> parameter to be set to True.</p>
</dd>
<dt><strong>enableOutputLogs</strong></dt><dd><p>Whether to use stdout in addition to Spark logs, by default False.</p>
</dd>
<dt><strong>outputLogsPath</strong></dt><dd><p>Folder path to save training logs. If no path is specified, the logs won’t
be stored in disk. The path can be a local file path,
a distributed file path (HDFS, DBFS), or a cloud storage (S3).</p>
</dd>
<dt><strong>enableMemoryOptimizer</strong></dt><dd><p>Whether to optimize for large datasets or not. Enabling this option can
slow down training.</p>
<p>In practice, if set to True the training will iterate over the spark Data Frame
and retrieve the batches from the Data Frame iterator. This can be slower
than the default option as it has to collect the batches on evey bach for every
epoch, but it can be useful if the dataset is too large to fit in memory.</p>
<p>If the training data can fit to memory, then it is recommended to set this
option to False (default value).</p>
</dd>
<dt><strong>tagsMapping</strong></dt><dd><p>A map specifying how old tags are mapped to new ones as a list of comma-separated
entities, where the first entity is the old tag and the second entity is
the new tag. For example, if the map is set to [“OLDTAG,NEWTAG”, “B-PER,B-VIP”,
“I-PER, I-VIP”], then all occurrences of “OLDTAG” will be mapped to “NEWTAG”,
all occurrences of “B-PER” will be mapped to “B-VIP”, and all occurrences of
“I-PER” will be mapped to “I-VIP”. It only works if setOverrideExistingTags
is set to False.</p>
</dd>
<dt><strong>earlyStoppingPatience</strong></dt><dd><p>Number of epochs to wait before early stopping if no improvement, by default 5.</p>
<p>Given the earlyStoppingCriterion, if the performance does not improve for the given
number of epochs, then the training will stop. If the value is 0, then early stopping
will occurs as soon as the criterion is met (no patience).</p>
</dd>
<dt><strong>earlyStoppingCriterion</strong></dt><dd><p>If set, this param specifies the criterion to stop training if performance is not improving.
Default value is 0 which is means that early stopping is not used.</p>
<p>The criterion is set to F1-score if the validationSplit is greater than 0.0
(F1-socre on validation set) or testDataset is defined (F1-score on test set),
otherwise it is set to model loss. The priority is as follows:
- If testDataset is defined, then the criterion is set to F1-score on test set.
- If validationSplit is greater than 0.0, then the criterion is set to
F1-score on validation set.
- Otherwise, the criterion is set to model loss.</p>
<p>Note that while the F1-score ranges from 0.0 to 1.0, the loss ranges
from 0.0 to infinity. So, depending on which case you are using,
the value you use for the criterion can be very different. For example,
if validationSplit is 0.1, then a criterion of 0.01 means that if the F1-score
on the validation set difference from last epoch is greater than 0.01, then the
training should stop.
However, if there is not validation or test set defined, then a criterion of 2.0
means that if the loss difference between the last epoch and the current one
is less than 2.0, then training should stop.</p>
<p>See also <cite>earlyStoppingPatience</cite>.</p>
</dd>
<dt><strong>logPrefix</strong></dt><dd><p>A prefix that will be appended to every log, default value is empty.</p>
</dd>
<dt><strong>useBestModel</strong></dt><dd><p>Whether to restore and use the model from the epoch that has achieved the
best performance at the end of the training. By default False (keep the
model from teh last trained epoch).</p>
<p>The best model depends on the earlyStoppingCriterion, which can be F1-score
on test/validation dataset or the value of loss.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Both DocumentAssembler and SentenceDetector annotators are
annotators that output the <code class="docutils literal notranslate"><span class="pre">DOCUMENT</span></code> annotation type. Thus, any of them
can be used as the first annotators in a pipeline.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sparknlp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.common</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.annotator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.training</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sparknlp_jsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.annotator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyspark.ml</span> <span class="kn">import</span> <span class="n">Pipeline</span>
</pre></div>
</div>
<p>First extract the prerequisites for the NerDLApproach</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">documentAssembler</span> <span class="o">=</span> <span class="n">DocumentAssembler</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCol</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;document&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence</span> <span class="o">=</span> <span class="n">SentenceDetector</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;document&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;sentence&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">Tokenizer</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;token&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">BertEmbeddings</span><span class="o">.</span><span class="n">pretrained</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;embeddings&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then the training can start</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nerTagger</span> <span class="o">=</span> <span class="n">MedicalNerApproach</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="s2">&quot;embeddings&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setLabelColumn</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;ner&quot;</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setMaxEpochs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setRandomSeed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setVerbose</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span><span class="o">.</span><span class="n">setStages</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">documentAssembler</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sentence</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tokenizer</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">embeddings</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">nerTagger</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conll</span> <span class="o">=</span> <span class="n">CoNLL</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">trainingData</span> <span class="o">=</span> <span class="n">conll</span><span class="o">.</span><span class="n">readDataset</span><span class="p">(</span><span class="n">spark</span><span class="p">,</span> <span class="s2">&quot;src/test/resources/conll2003/eng.train&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipelineModel</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">trainingData</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LegalNerModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">classname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'com.johnsnowlabs.legal.token_classification.ner.LegalNerModel'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">java_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../../../modules/sparknlp_jsl/legal/token_classification/ner/legal_ner.html#LegalNerModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel" title="Permalink to this definition">#</a></dt>
<dd><p>This Named Entity recognition annotator is a generic NER model based on
Neural Networks.</p>
<p>Neural Network architecture is Char CNNs - BiLSTM - CRF that achieves
state-of-the-art in most datasets.</p>
<p>This is the instantiated model of the <code class="xref py py-class docutils literal notranslate"><span class="pre">NerDLApproach</span></code>. For training
your own model, please see the documentation of that class.</p>
<p>Pretrained models can be loaded with <a class="reference internal" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained" title="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pretrained()</span></code></a> of the companion
object:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">nerModel</span> <span class="o">=</span> <span class="n">MedicalNerDLModel</span><span class="o">.</span><span class="n">pretrained</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="s2">&quot;embeddings&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;ner&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The default model is <code class="docutils literal notranslate"><span class="pre">&quot;ner_dl&quot;</span></code>, if no name is provided.</p>
<p>For available pretrained models please see the <a class="reference external" href="https://nlp.johnsnowlabs.com/models?task=Named+Entity+Recognition">Models Hub</a>.
Additionally, pretrained pipelines are available for this module, see
<a class="reference external" href="https://nlp.johnsnowlabs.com/docs/en/pipelines">Pipelines</a>.</p>
<p>Note that some pretrained models require specific types of embeddings,
depending on which they were trained on. For example, the default model
<code class="docutils literal notranslate"><span class="pre">&quot;ner_dl&quot;</span></code> requires the WordEmbeddings <code class="docutils literal notranslate"><span class="pre">&quot;glove_100d&quot;</span></code>.</p>
<p>For extended examples of usage, see the <a class="reference external" href="https://github.com/JohnSnowLabs/spark-nlp-workshop/blob/master/tutorials/Certification_Trainings/Public/3.SparkNLP_Pretrained_Models.ipynb">Spark NLP Workshop</a>.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Input Annotation types</p></th>
<th class="head"><p>Output Annotation type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOCUMENT,</span> <span class="pre">TOKEN,</span> <span class="pre">WORD_EMBEDDINGS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NAMED_ENTITY</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>batchSize</strong></dt><dd><p>Size of every batch, by default 8</p>
</dd>
<dt><strong>configProtoBytes</strong></dt><dd><p>ConfigProto from tensorflow, serialized into byte array.</p>
</dd>
<dt><strong>includeConfidence</strong></dt><dd><p>Whether to include confidence scores in annotation metadata, by default
False</p>
</dd>
<dt><strong>includeAllConfidenceScores</strong></dt><dd><p>Whether to include all confidence scores in annotation metadata or just
the score of the predicted tag, by default False</p>
</dd>
<dt><strong>inferenceBatchSize</strong></dt><dd><p>Number of sentences to process in a single batch during inference</p>
</dd>
<dt><strong>classes</strong></dt><dd><p>Tags used to trained this NerDLModel</p>
</dd>
<dt><strong>labelCasing:</strong></dt><dd><p>Setting all labels of the NER models upper/lower case. values upper|lower</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sparknlp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.common</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.annotator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp.training</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sparknlp_jsl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.base</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sparknlp_jsl.annotator</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyspark.ml</span> <span class="kn">import</span> <span class="n">Pipeline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">documentAssembler</span> <span class="o">=</span> <span class="n">DocumentAssembler</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCol</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;document&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sentence</span> <span class="o">=</span> <span class="n">SentenceDetector</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;document&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;sentence&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tokenizer</span> <span class="o">=</span> <span class="n">Tokenizer</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;token&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">embeddings</span> <span class="o">=</span> <span class="n">WordEmbeddingsModel</span><span class="o">.</span><span class="n">pretrained</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;bert&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nerTagger</span> <span class="o">=</span> <span class="n">MedicalNerDLModel</span><span class="o">.</span><span class="n">pretrained</span><span class="p">()</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setInputCols</span><span class="p">([</span><span class="s2">&quot;sentence&quot;</span><span class="p">,</span> <span class="s2">&quot;token&quot;</span><span class="p">,</span> <span class="s2">&quot;bert&quot;</span><span class="p">])</span> \
<span class="gp">... </span>    <span class="o">.</span><span class="n">setOutputCol</span><span class="p">(</span><span class="s2">&quot;ner&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pipeline</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">()</span><span class="o">.</span><span class="n">setStages</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">documentAssembler</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sentence</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">tokenizer</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">embeddings</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">nerTagger</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">spark</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">([[</span><span class="s2">&quot;U.N. official Ekeus heads for Baghdad.&quot;</span><span class="p">]])</span><span class="o">.</span><span class="n">toDF</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="pre">=</span> <span class="pre">LegalNerModel</span></em><a class="reference internal" href="../../../../../../../modules/sparknlp_jsl/legal/token_classification/ner/legal_ner.html#LegalNerModel.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.name" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.loadSavedModel">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">loadSavedModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ner_model_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spark_session</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../../../modules/sparknlp_jsl/legal/token_classification/ner/legal_ner.html#LegalNerModel.loadSavedModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.loadSavedModel" title="Permalink to this definition">#</a></dt>
<dd><p>Load a pre-trained MedicalNerModel.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>ner_model_path (str): Path to the pre-trained model.
folder (str): Folder where the Tensorflow model is located.
spark_session (SparkSession): SparkSession.</p>
</dd>
<dt>Returns:</dt><dd><p>MedicalNerModel: A pre-trained MedicalNerModel.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pretrained</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ner_clinical'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lang</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'clinical/models'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../../../modules/sparknlp_jsl/legal/token_classification/ner/legal_ner.html#LegalNerModel.pretrained"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained" title="Permalink to this definition">#</a></dt>
<dd><p>Downloads and loads a pretrained model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">str, optional</span></dt><dd><p>Name of the pretrained model.</p>
</dd>
<dt><strong>lang</strong><span class="classifier">str, optional</span></dt><dd><p>Language of the pretrained model, by default “en”</p>
</dd>
<dt><strong>remote_loc</strong><span class="classifier">str, optional</span></dt><dd><p>Optional remote address of the resource, by default None. Will use
Spark NLPs repositories otherwise.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>LegalNerModel</dt><dd><p>The restored model</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-contents">Module Contents</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#classes">Classes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach"><code class="docutils literal notranslate"><span class="pre">LegalNerApproach</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel"><code class="docutils literal notranslate"><span class="pre">LegalNerModel</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.name"><code class="docutils literal notranslate"><span class="pre">LegalNerModel.name</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.loadSavedModel"><code class="docutils literal notranslate"><span class="pre">LegalNerModel.loadSavedModel()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained"><code class="docutils literal notranslate"><span class="pre">LegalNerModel.pretrained()</span></code></a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerApproach">LegalNerApproach</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel">LegalNerModel</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.name">name</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.loadSavedModel">loadSavedModel</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#sparknlp_jsl.legal.token_classification.ner.legal_ner.LegalNerModel.pretrained">pretrained</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../../../../../../_sources/reference/autosummary/sparknlp_jsl/legal/token_classification/ner/legal_ner/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../../../static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../../../../../../static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2022, John Snow Labs.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>